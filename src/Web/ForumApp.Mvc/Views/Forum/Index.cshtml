@using ForumApp.Mvc.Models.Shared
@using ForumApp.Mvc.Models.Post
@model PagableListViewModel<PostViewModel>

@{
    ViewBag.Title = "title";
}

<br />

@Html.Partial("_Pagable", @Model)

<div class="row">
    @foreach (var post in @Model.Data)
    {
    <div class="well">
        @post.NumberComments -> @Html.ActionLink(@post.Text, "Index", "Forum", new { Id = post.Id }, new object { })
    </div>
    }
</div>

<div class="show-hide-section">
    <div id="loading" style="display: none">Loading data...</div>
    <div id="results"></div>
    @Ajax.ActionLink("AddPost", "AddPost", null, new AjaxOptions
    {
        UpdateTargetId = "results",
        LoadingElementId = "loading",
        InsertionMode = InsertionMode.Replace,
    }, new { @class = "btn btn-primary show-hide-btn" })    
</div>

<script>
    $(".show-hide-btn").click(function () {
        $(".show-hide-btn").hide();
    });

    function reload() {
        window.location.reload();
    }
</script>